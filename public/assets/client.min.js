angular.module("comedyApp",["ngRoute","ngStorage","ngMaterial"]),angular.module("comedyApp").config(["$routeProvider","$locationProvider","$mdThemingProvider",function(a,b,c){a.when("/",{templateUrl:"/views/login.html",controller:"LoginController",controllerAs:"login"}).when("/register",{templateUrl:"/views/register.html",controller:"RegisterController",controllerAs:"register"}).when("/success",{templateUrl:"/views/success.html",controller:"WelcomeController",controllerAs:"welcome"}).when("/newjoke",{templateUrl:"/views/newjoke.html",controller:"NewJokeController",controllerAs:"newjoke"}).when("/exercises",{templateUrl:"/views/exercises.html",controller:"ExercisesController",controllerAs:"exercises"}).when("/alternates",{templateUrl:"/views/alternates.html",controller:"AlternatesController",controllerAs:"alternates"}),c.theme("default").primaryPalette("indigo").accentPalette("brown").warnPalette("purple"),b.html5Mode(!0)}]),angular.module("comedyApp").controller("MainController",["$http","$mdMedia","$scope",function(a,b){function c(a){d.username=a.data}var d=this;d.message="Comedy Notebook",a.get("/getCurrentUserName").then(c),setScreensize=function(){b("xs")===!0?d.screenSize="small":d.screensize="large"},setScreensize()}]),angular.module("comedyApp").controller("LoginController",["$http","$location",function(a,b){function c(){b.path("/success")}function d(){b.path("/"),g.loginError=!0}function e(a){b.path("/success")}function f(a){g.registerError=!0}var g=this;g.username="",g.password="",g.loginError=!1,g.registerError=!1,g.loginErrorMessage="Sorry, Wrong Username/Password",g.registerErrorMessage="Sorry, Username taken",g.login=function(){var b={};b.username=g.username,b.password=g.password,a.post("/login",b).then(c,d)},g.register=function(){var b={};b.username=g.registername,b.password=g.registerpassword,a.post("/signup",b).then(e,f)}}]),angular.module("comedyApp").controller("RegisterController",["$http","$location",function(a,b){function c(a){b.path("/")}function d(a){b.path("/register"),e.error=!0}var e=this;e.username="",e.password="",e.error=!1,e.errorMessage="Sorry, Username taken",e.register=function(){var b={};b.username=e.username,b.password=e.password,a.post("/signup",b).then(c,d)}}]),angular.module("comedyApp").controller("WelcomeController",["$http","$location","$localStorage","$mdDialog",function(a,b,c,d){function e(a){f.jokes=a.data,f.owner=f.jokes[0].username+"'s Notebook",f.jokes.length<1&&(f.nojokes="To get started, click New Joke to create your first joke.",f.alljokes="")}var f=this;f.deleteStepOneButton=!0,f.deleteStepTwoButton=!1,f.nojokes="",f.alljokes="All Jokes",f.owner="",a.get("/getCurrentUserJokes").then(e),f.currentJokeInExercises=function(a,d,e,g,h,i,j){f.pageData={currentId:a,currentTitle:d,currentJoke:e,currentTheme:g,currentSubject:h,currentTopic:i,currentStatements:j},c.prevPageData=f.pageData,b.path("/exercises")},f.deleteStepOne=function(b){var c=d.confirm().title("Would you like to delete your joke?").ariaLabel("delete it").ok("Please do it!").cancel("Sounds like a bad idea");d.show(c).then(function(){a.delete("/crud/deleteitem/"+b).then(location.reload())})}}]),angular.module("comedyApp").controller("NewJokeController",["$http","$location","$localStorage",function(a,b,c){function d(a){e.userId=a.data.id,b.path("/newjoke"),e.afterSave=!1,e.exerciseLink=!0}var e=this;e.title="",e.setup="",e.punchline="",e.theme="",e.subject="",e.topic="",e.statements="",e.afterSave=!0,e.exerciseLink=!1;var f={};e.saveJoke=function(){a.get("/getCurrentUserId").then(d),f.userId=e.userId,f.title=e.title,f.setup=e.setup,f.punchline=e.punchline,f.theme=e.theme,f.subject=e.subject,f.topic=e.topic,f.statements=e.statements,a.post("/postNewJoke",f)},e.goToExercises=function(){b.path("/exercises");e.pageData={currentTitle:e.title,currentJoke:e.setup,currentTheme:e.theme,currentSubject:e.subject,currentTopic:e.topic,currentStatements:e.statements},c.prevPageData=e.pageData}}]),angular.module("comedyApp").controller("ExercisesController",["$location","$localStorage","$http",function(a,b,c){function d(c){b.prevPageData={currentId:c.data[0].id,currentTitle:c.data[0].title,currentJoke:c.data[0].setup_punch,currentStatements:c.data[0].statements,currentTopic:c.data[0].topics,currentTheme:c.data[0].themes,currentAltThemes:c.data[0].alt_themes,currentAltSM:c.data[0].alt_subject_matter,currentSubject:c.data[0].subject_matter,currentAltTopic:c.data[0].alt_topics},a.path("/alternates")}function e(a){g.exerciseName=a.data.exercise,g.exerciseDescription=a.data.description}function f(){g.updatedTextToSave=!0}var g=this;g.updatedTextToSave=!1,g.pageData=b.prevPageData,g.viewAlternateMaterial=function(a,b){c.get("/crud/alternatematerial/"+g.pageData.currentId).then(d)},g.getRandomExercise=function(){c.get("/exerciseRandomizer").then(e)},g.replaceElement=function(a,b){g.crudUrl=a,g.text=b,c({method:"PUT",url:g.crudUrl,data:{id:g.pageData.currentId,text:g.text}}).then(f())}}]),angular.module("comedyApp").controller("AlternatesController",["$http","$location","$localStorage",function(a,b,c){var d=this;d.pageData=c.prevPageData,d.title=d.pageData.currentTitle,d.joke=d.pageData.currentJoke,d.subjectMatter=d.pageData.currentAltSM,d.topics=d.pageData.currentAltTopic,d.altThemes=d.pageData.currentAltThemes,d.replaceAltElement=function(b,c){d.altCrudUrl=b,d.altText=c,a({method:"PUT",url:d.altCrudUrl,data:{id:d.pageData.currentId,text:d.altText}})}}]);